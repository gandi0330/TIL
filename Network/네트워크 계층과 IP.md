# 네트워크 계층의 기능

- 서로 다른 네트워크 대역(LAN과 LAN)을 연결하여 데이터를 전달하는 일을 담당
- 라우터가 해당 역할을 한다
- 3계층에서는 IP주소를 사용 
- IPv4 주소 : 현재 PC에 할당된 IP 주소
- 서브넷 마스크 : IP주소에 대한 네트워크의 대역을 규정
- 게이트웨이 주소 : 외부와 통신할 때 사용하는 네트워크 출입구

<br>
<br>

# 일반적인 IP 주소

### Classful IP 주소
##### 총 4개의 필드가 있고 각 필드당 1바이트

- A 클래스 : 0.0.0.0 ~ 127.255.255.225 -> 첫 번째 필드를 네트워크 대역으로 사용 
- B 클래스 : 128.0.0.0 ~ 191.255.255.255 -> 두 번째 필드까지 네트워크 대역으로 사용
- C 클래스 : 192.0.0.0 ~ 223.255.255.255 -> 세 번째 필드까지 네트워크 대역으로 사용 (각 네트워크당 256개의 IP를 할당할 수 있어서 범용적으로 사용됨)
- D 클래스 : 224.0.0.0 ~ 239.255.255.255
- E 클래스 : 240.0.0.0 ~ 255.255.255.255

##### **특정 클래스 네트워크에 할당할 수 있는 IP 주소가 고정되어있어 낭비가 심하다.**

<br>

### Classfulless IP 주소

##### 굳이 필드를 4개로 나누지 않고 IP의 비트(32bit)중 어디서나 나눌 수 있다.
##### 어디서 나누는 지를 표현하는 것이 **서브넷 마스크**

- 서브넷 마스크
    - 네트워크 대역을 1로 표현하고 호스트를 0으로 표현
    - 1과 1사이에 0이 올 수 없다
    - 예를 들어 C클래스를 서브넷 마스크로 표현하면 255.255.255.0
    - 만약 64개의 IP를 할당할 수 있는 네트워크를 만들고 싶다면?? 
        - Classful IP 주소를 사용할 경우 : C클래스를 사용, 192개의 IP가 낭비
        - Classfulless IP 주소를 사용할 경우 : 서브넷 마스크를 255.255.255.128로 정하면 딱 64개의 IP를 할당받을 수 있다
##### **하지만 이 방법도 결국 한계가 있다. (65개 IP를 받고싶을 경우 서브넷 마스크를 255.255.255.0 으로 정해야 하고,  193개 IP가 손해)**

<br>

### 사설 IP와 공인 IP
- 공인 IP를 하나만 받고 공유기를 통해 사설 IP를 할당한다
- 공인 IP 하나가 사설 IP 2^32개를 할당할 수 있어서 IP 부족현상을 많이 해결할 수 있다
- 일반적인 가정이나 사무실, 그룹 등에 공유기를 하나만 설치(공인 IP 하나 할당)하면 해당 공유기로 스마트폰, 여러 컴퓨터 등 인터넷에 접속할 수 있는 것
- 사설 IP는 해당 네트워크에서만 유일하다
- 인터넷 입장에서 사설 IP로 접근할 수 없다 (사설 IP -> 공유기(요청한 사설 IP 저장) -> 인터넷(요청처리 및 응답) -> 공유기(요청했던 사설 IP로 전송) -> 사설 IP)
