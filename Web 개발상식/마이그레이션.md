# 마이그레이션

| 마이그레이션이란 데이터나 소프트웨어를 한 시스템에서 다른 시스템으로 이동하는 것

예시
- 애플리케이션 또는 OS 업그레이드
- 데이터를 DB에서 다른 DB로 이동
- 하나의 데이터 스토리지를 교체
- 온프레미스 인프라에서 클라우드 인프라로 교체
- 모놀리식 어플리케이션을 컨테이너화된 서비스로 교체


<br>
<br>

### 데이터 마이그레이션
- 한 종류의 스토리지에서 다른 종류의 스토리지로 이동시키는 것
- 스토리지 용량 확장, 성능 향상, 비용절감, 새로운 기능 추가를 위한 업그레이드의 일부로 수행됨
- 계획, 실행, 검증 세 단계에 걸쳐 진행되며, 이 과정에서 네트워크 혹은 물리적으로 데이터를 이동시키는 작업이 수반된다
- 데이터베이스의 마이그레이션은 스키마가 호환되어야하고 필요한 경우 변환할 수 있어야한다

<br>


### 어플리케이션 마이그레이션
- 소프트웨어 어플리케이션을 다른 IT 시스템으로 이동시키는 것
- 모놀리식 어플리케이션을 마이크로서비스로 분할하는 것

### 운영 체제 마이그레이션
- 하나의 OS가 관리하는 IT 시스템을 다른 OS로 옮기는 것
- 이전 버전이 종료시점에 도달해서 같은 OS에서 버전업 혹은 다른 종류의 OS로 변경
- OS 마이그레이션은 호환성, 사용자 정의기능 상실 등의 문제를 일으킬 수 있다.

### 클라우드 마이그레이션
- 온프레미스 데이터 센터에서 클라우드환경으로 or 클라우드에서 다른 클라우드 환경으로 이동하는 것

###DB
- DB에서 DB로 옮기는데 동일한 DB, 동일한 서비스 -> 테이블 데이터만 마이그 or 테이블 구조 DDL index, procedure, dblink, user 등 도 포함할거냐 / db 서버에서 돌고있는 별도 데몬 / +게이트웨이
- user를 그대로 옮길건지
- 옮길 db에 데이터가 있다면 충돌이 날텐데
- DB 인스턴스 내 ip 변경
- 기존 as-is가 운영이다 / 다운타임을 최소호하면서 이관시점과 데이터가 동일해야됨 / 데이터ㅡ이 정합성 중요

이관 방법
0. data 외 오브젝트 이관 및 검증
0-1. data 중 콜드데이터(로그성, 조작이 없는 데이터, 아카이빙 데이터, 임시 데이터) 대체로 대용량 -> 먼저 이관을 ㅏ사용해서 다운타임을 낮추기 ㅜ이해
1. 서비스 다운하고 데이터 이관 (*중요 - 실이관 4시간, 근데 2시간 넘기다가 갑자기 fail 끊어짐 -> 기존 데이터를 다 날리고 다시해야함, 정합성을 맞추기 위해)
2. CDC(change data capture) 이관 -> DB의 트랜잭션 로그를 가져와서 새로운 디비에 실시간으로 반영
3. 야매
4. 


==> 다운타임, 정합성, 서비스 영향도(I/O혹은 네트워크를 다 끌어다써서 서비스가 마비될 수 있음) 
