### 운영체제란 무엇인지 설명하세요

> 컴퓨터 시스템의 자원을 효율적으로 관리하며 다른 응용프로그램이 하드웨어를 사용할 수 있도록 하는 인터페이스를 제공한다
> 사용자가 컴퓨터를 편리하고 효과적으로 사용할 수 있는 환경을 제공하는 시스템 소프트웨어이다

- 운영체제의 역할
  - CPU 스케줄링과 프로세스 관리 : CPU를 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 할당 및 반환을 관리
  - 메모리 관리 : 한정된 메모리를 어떤 프로세스에 얼마만큼 할당할 지 관리
  - 디스크 파일 관리 : 디스크 파일을 어떠한 방법으로 저장할 지 관리
  - I/O 디바이스 관리 : 마우스, 키보드등 컴퓨터 간에 데이터를 주고받는 것을 관리

<br>


### 프로세스 메모리 구조를 설명하세요
> 프로세스는 스택, 힙, 데이터 영역, 코드 영역으로 나뉜 메모리를 운영체제에게 할당받는다

- 스택
  - 지역변수, 매개변수, 함수 등이 저장되고 컴파일 시에 크기가 결정된다
  - 함수가 함수를 재귀적으로 호출할 경우 크기가 늘어날 수 있는데 이 때문에 추가로 메모리를 비워둔다

- 힙
  - 동적 할당 시 사용되며 런타임 시 크기가 결정된다

- 데이터 영역
  - 전역변수, 정적변수가 저장되고 프로그램이 종료될 때까지 계속 존재하는 영역이다

- 코드 영역
  - 프로그램에 내장되어있는 소스코드가 저장되는 영역으로 수정 불가능한 기계어로 저장되어있다.

<br>

### 프로세스와 스레드의 차이를 설명하세요

#### 프로세스 
- 실행중인 프로그램(메모리에 올라와 실행되고 있는 프로그램의 인스턴스)
- 운영체제로부터 자원을 할당받는 작업의 단위
- 프로세스는 각각 독립된 메모리 영역을 할당받음(Code, Data, Stack, Heap)
- 기본적으로 프로세스는 최소 하나의 스레드를 가짐
- 일반적으로 프로세스는 다른 프로세스의 메모리에 접근할 수 없음(IPC로 접근 가능)

#### 스레드
- 프로세스 내에 실행되는 흐름의 단위
- 스레드는 프로세스 내에서 각각 Stack만 할당받고 Code, Data, Heap은 프로세스의 자원을 그대로 공유하여 사용한다

<br>

### PCB의 구조를 설명하세요

> PCB는 프로세스에 대한 메타데이터를 저장한 데이터입니다

- 프로세스가 생성되면 운영체제는 PCB를 생성합니다
- 프로세스 주소 값에 메모리가 할당됩니다
- 프로세스 스케줄링 상태, 프로세스 ID, 프로세스 권한, PC, CPU 레지스터, CPU 스케줄링 정보, 계정 정보, I/O 상태 정보로 이루어져있습니다

<br>

### 컨텍스트 스위칭에 대해 설명하세요
> 한 Task가 끝날 때까지 다른 Task가 기다리는 것이 아닌 여러 Task를 번갈아가며 실행하는 것이다
> PCB를 교환하는 과정

- 사용자 입장에서는 프로그램이 동시에 작동되는 것 처럼 보인다
- 인터럽트가 발생하면 현재 프로세스의 상태를 PCB에 저장하고 새로운 프로세스 상태를 레지스터에 저장한다
- 컨텍스트 스위칭 동안에 CPU는 아무런 일을 하지 않으므로 잦은 컨텍스트 스위칭은 성능 저하를 일으킬 수 있다
- 스레드는 캐시 메모리나 PCB에 저장해야 하는 내용이 프로세스보다 적어 상대적으로 빠르다

<br>

### CPU 스케줄링을 설명하세요
> 프로그램이 실행될 때 CPU 스케줄링 알고리즘이 어떤 프로그램에 CPU 소유권을 줄 것인지 결정한다
- CPU 스케줄러의 목표는 다음과 같다
  - CPU 이용률을 높인다
  - CPU가 주어진 시간동안 많은 일을 하도록 한다
  - 준비 큐에 프로세스가 적게, 응답 시간은 짧게 하도록 한다

- CPU 스케줄링 알고리즘
  
  - 비선점형 : 프로세스가 다른 프로세스를 강제로 중지하지 않는다
    - FCFS
      - First Come First Served로 가장 먼저온 프로세스를 가장 먼저 처리한다
      - 길게 수행되는 프로세스때문에 준비 큐에 오래 기다리는 현상이 발생한다 (convoy effect)
    - SJF
      - Shortest Job First로 실행 시간이 가장 짧은 프로세스를 가장 먼저 처리한다
      - 긴 실행시간을 가진 프로세스가 실행되지 않는 현상이 발생한다 (starvation)
      - 실제로 실행시간을 예측할 수 없기때문에 과거에 실행했던 시간을 토대로 추측한다
  - 선점형 : 프로세스를 알고리즘에 의해 중단시키고 강제로 다른 프로세스에게 CPU 소유권을 할당하는 방식이다
    - 라운드 로빈
      - 각 프로세스에게 동일한 할당 시간을 주고 그 시간안에 끝나지 않으면 준비 큐의 가장 뒤로 보내는 방식
      - 할당 시간이 너무 크면 FCFS와 비슷해지고 너무 작으면 컨텍스트 스위칭의 비용이 커진다
      - 전체 작업시간은 길어지지만 평균 응답 시간이 짧아진다
    - SRF
      - 현재 프로세스의 실행시간보다 더 짧은 실행시간을 가진 프로세스가 들어오면 현재 프로세스와 바꾼다
    - 다단계 큐
      - 우선순위에 따라 준비 큐를 여러 개 사용하고 큐마다 다른 스케줄링 알고리즘을 적용한 것이다

<br>

### 동기와 비동기의 차이를 설명하세요

- 동기 : 한 Task가 실행되어 완료될 때 까지 다른 Task가 실행되지 않고, 완료될 때 다음 Task를 실행하는 것
- 비동기 : 여러개의 Task가 동시에 실행되는 것

<br>

### 캐시와 지역성에 대해 설명하세요
> 주기억장치에서 자주 사용하는 데이터를 저장해두어 데이터 접근 속도를 빠르게 하는 메모리

- 캐시메모리를 사용하면 주 기억장치를 접근하는 횟수가 줄어들어 컴퓨터 처리속도가 향상됨
- 캐시가 효율적으로 동작하려면 캐시의 적중률(찾는 메모리가 캐시에 있을 확률)을 극대화해야 함
- 캐시에 저장할 데이터가 지역성을 가져야 한다

- 캐시의 지역성 : 기억장치 내 정보를 균일하게 접근하는 것이 아닌 어떤 패턴으로 참조하는 특성
  - 시간적 지역성 : 특정 데이터에 접근되면 가까운 미래에 다시 접근될 가능성
  - 공간적 지역성 : 특정 데이터와 가까운 주소가 접근될 가능성


<br>

### 프로세스 동기화에 대해 설명하세요

> 두 개 이상의 프로세스가 공유 데이터를 접근할 때 데이터 일관성을 유지하기 위한 방법

- Race Condition(경쟁 상태)
  - 여러 프로세스나 스레드가 동기화 없이 자원에 접근하려는 상황
  - 공유된 자원에 대한 접근 순서에 따라 실행 결과가 달라질 수 있는 상황
  
- Critical Section(임계 구역)
  - 동시에 접근해서는 안되는, 공유 자원에 접근하는 코드 블럭
  - 임계구역에 접근하는 것을 제어하기 위해 세마포어, 뮤텍스같은 방법을 사용
  
  - 임계 구역 문제를 해결하기 위한 조건
    - 상호배제 : 한 프로세스가 임계구역에서 동작중이면 다른 프로세스는 접근 불가능
    - 진행 : 임계구역에 작업중인 프로세스가 없다면 임계구역으로 진입하려는 프로세스를 적절히 선택하기
    - 유한대기 : 한 프로세스가 임계영역으로 진입을 요청하면 해당 프로세스가 무한히 대기하는 것을 방지
    

<br>

### 세마포어와 뮤텍스를 설명하세요

- 세마포어
  - 여러개의 프로세스가 접근 가능한 공유자원을 관리
  - 뮤텍스가 될 수 있다
  - 다른 프로세스가 세마포어를 해제할 수 있음

- 뮤텍스
  - 한 번에 한 개의 프로세스만 공유자원에 접근 가능하도록 관리
  - 락을 획득한 프로세스만 락을 반환할 수 있음

- 세마포어는 공유자원에 접근할 수 있는 프로세스(스레드)최대 개수를 N이라 두고 현재 접근 가능한 개수를 k라 할 때, 프로세스가 접근하면 k+1, 나가면 k-1 하고, k가 N개 이상일 경우 프로세스의 접근을 막는다
- 이 때 N이 1이라면 뮤텍스와 비슷하게 자원을 하나의 프로세스만 사용 가능하다 (바이너리 세마포어)
- 뮤텍스는 공유자원이 잠겨있고, 접근하기 위한 key가 있으며, 이 key를 가진 프로세스만이 공유자원에 접근할 수 있다
- key는 단 하나이기 때문에 공유자원을 단 하나의 프로세스만이 접근할 수 있다


<br>

### 모니터

> 모니터는 둘 이상의 스레드나 프로세스가 공유 자원에 안전하게 접근할 수 있도록 공유자원을 숨기고 해당 접근에 대한 인터페이스만을 제공한다

- 모니터는 모니터큐를 통해 공유 자원에 대한 작업들을 순차적으로 처리한다
- 구현이 간단하고, 자동으로 상호배제가 이루어진다


<br>

### 메모리 할당 방식을 설명하세요

- 메모리에 프로그램을 할당할 때 시작 메모리 위치, 메모리의 할당 크기를 기반으로 할당한다
- 연속 할당 : 메모리에 연속적으로 공간을 할당한다
  - 고정 분할방식 : 메모리를 미리 나누어 관리하며 융통성이 없고 내부 단편화가 발생한다
  - 가변 분할방식 : 매 시점 프로그램의 크기에 맞게 동적으로 메모리를 나눠 사용한다, 외부 단편화 발생
    - 최초 적합 : 위쪽이나 아래쪽부터 시작하여 넣을 수 있는 공간을 찾으면 넣는다
    - 최적 적합 : 프로세스의 크기 이상인 공간 중 가장 작은 공간에 넣는다
    - 최악 적합 : 프로세스의 크기와 가장 많이 차이나는 공간에 넣는다
- 불연속 할당 : 현대 운영체제가 사용하는 방법이며 프로그램을 연속적인 공간에 할당하지 않는다
  - 페이징
    - 프로그램을 동일한 크기의 페이지 단위로 나누어 메모리의 서로 다른 위치에 프로세스를 할당한다
    - 비어있는 메모리 공간이 균일하다
    - 주소 변환이 복잡하다
  - 세그멘테이션
    - 페이지 단위가 아닌 의미 단위로 나눈다
    - 비어있는 메모리 공간이 균일하지 않다
    
    
<br>

### 가상메모리를 설명하세요
> 컴퓨터가 실제로 이용 가능한 메모리 자원을 추상화하여 매우 큰 메모리처럼 보이는 관리기법

- 가상 메모리는 가상 주소와 실제 주소가 매핑되어있고 프로세스의 주소 정보가 들어있는 페이지 테이블로 관리된다
- 사용자는 실제 주소를 의식할 필요없이 가상 주소를 활용할 수 있다
- 

- 페이지 폴트 : 프로세스의 주소공간에는 존재하지만 지금 이 컴퓨터의 RAM에 없는 데이터에 접근했을 경우
  - 페이지 테이블을 확인하여 가상 메모리에 페이지가 존재하는 지 확인
  - 가상메모리에 페이지가 없으면 물리 메모리에 자리가 있는지 확인
  - 자리가 없으면 스와핑, 있으면 페이지를 로드하고 페이지 테이블 최신화


<br>
### 스레싱을 설명하세요

> 메모리의 페이지 폴트율이 높은 것을 의미, 성능 저하를 초래
- 너무 많은 프로세스가 동시에 올라가 스와핑이 많이 발생하는 것
- 페이지 폴트가 많이 일어나면 CPU 이용률이 낮아짐
- CPU 이용률이 낮아지면 운영체제는 더 많은 프로세스를 메모리에 올림
- 악순환이 발생하며 스레싱이 일어남

- 해결방법
   - 작업 세트 : 프로세스의 과거 사용이력인 지역성을 통해 결정된 페이지 집합을 만들어 미리 메모리에 로드하기
   - PFF : 페이지 폴트 빈도의 상한선과 하한선을 둬서 상한선에 도달하면 페이지를 늘리고 하한선에 도달하면 페이지 줄이기

<br>


### 페이지 교체 알고리즘을 설명하세요

- 메모리는 한정되어있기 때문에 스와핑이 일어난다
- 페이지 교체 알고리즘을 기반으로 스와핑이 일어난다

- FIFO : 가장 먼저 온 페이지를 교체 영역에 가장 먼저 놓는 방법
- LRU : 참조가 가장 오래된 페이지를 바꾸는 것
- LFU : 참조 횟수가 가장 적은 페이지를 바꾸는 것

<br>


### 멀티 프로세싱
> 여러 개의 프로세스를 통해 동시에 일을 수행하는 것을 말한다

- 하나 이상의 일을 병렬로 처리하며 특정 프로세스가 문제가 생겨오 다른 프로세스를 이용하여 처리할 수 있으므로 신뢰성이 높다

- 웹 브라우저 
  - 웹 브라우저는 멀티 프로세스 구조를 가진다
  - 브라우저 프로세스 : 주소 표시줄, 북마크, 뒤로, 앞으로가기 버튼 등 기능
  - 렌더러 프로세스 : 웹사이트에 보이는 모든 것을 제어
  - 플러그인 프로세스 : 웹사이트에 사용하는 플러그인을 제어
  - GPU 프로세스 : GPU를 이용해서 화면을 그리는 역할
  
- IPC
  - 멀티 프로세스는 IPC(Inter Process Communication)이 가능
  - 데이터를 주고받고 공유 데이터를 관리하는 방법
  - IPC 종류
    - 공유 메모리
      - 여러 프로레스에 동일한 메모리 블록에 대한 접근권한이 부여
      - IPC 방식 중 어떤 매개체 없이 메모리를 공유하기 때문에 가장 빠르다
      - 동기화 필요
    - 파일
      - 디스크에 저장된 데이터, 파일 서버에서 제공한 데이터를 뜻함
    - 소켓
      - 동일한 컴퓨터의 다른 프로세스나 다른 컴퓨터로 네트워크 인터페이스를 통해 전송하는 데이터
      - TCP, UDP
    - 익명 파이프
      - 프로세스 간에 FIFO 방식으로 읽히는 임시 공간인 파이프를 기반으로 데이터를 주고받음
      - 단방향 방식의 읽기 전용, 쓰기 전용 파이프를 만들어 작동
      - 부모, 자식 프로세스 간에만 사용 가능, 다른 네트워크상에서는 불가능
    - 명명된 파이프
      - 파이프 서버와 하나 이상의 파이프 클라이언트간의 통신을 위한 명명된 단방향 혹은 이중 파이프
      - 클라이언트/서버 통신을 위한 별도의 파이프 제공
      - 동시에 여러 파이프 사용 가능
      - 다른 네트워크상의 컴퓨터와도 통신 가능
    - 메세지 큐
      - 메세지를 큐 데이터 구조 형태로 관리하는 것
      - 다른 IPC 방식에 비해 사용방법이 직관적이고 간단하게 접근 가능

<br>

### 멀티 스레딩

> 프로세스 내 작업을 여러 스레드로 처리하는 방법

- 스레드는 프로세스의 코드, 데이터, 힙을 공유
- 멀티 스레딩은 프로세스 내 작업을 여러 개의 스레드로 처리하는 방법
- 웹 요청을 처리할 때 새 프로세스를 생성하는 대신 스레드를 사용하면 더 적은 리소스를 소비
- 한 스레드에 문제가 생기면 다른 스레드에 영향을 끼칠 수 있음

