# 싱글턴 패턴

> 하나의 클래스에 오직 하나의 인스턴스를 가지는 패턴
- 최초 한 번 메모리를 할당하고 해당 메모리에 인스턴스를 만들어 사용
- java에서는 생성자를 private로 선언하여 다른 곳에서는 생성하지 못하게 하고, getInstance 메소드를 통해 인스턴스를 반환한다

### 장점
- 인스턴스를 하나만 만들고 다른 모듈들이 공유하며 사용하기 때문에 인스턴스의 생성비용이 줄어든다


### 단점
- 의존성이 높아진다
- 테스트가 서로 독립적이어야 하는데 테스트마다 독립적인 인스턴스를 만들기 어렵다
- 인스턴스가 많은 기능을 하고 많은 데이터를 공유하면 클래스간 결합도가 높아져 개방-폐쇠 원칙(확장에 대해 열려있고 수정에 대해 닫혀 있어야 한다)을 위배한다

### 의존성 주입
- 싱글톤 패턴의 단점인 의존성을 줄일 수 있다
- 메인 모듈이 직접 하위 모듈의 인스턴스를 사용하는 방식은 의존성을 높인다
- 중간에 의존성 주입자가 이 부분을 가로채어 하위 모듈을 결정하고 메인 모듈에게 인터페이스(역할)을 제공한다
- 따라서 메인 모듈은 하위 모듈의 역할만 알면 되고 구현체는 알 필요 없다(의존하지 않는다)
