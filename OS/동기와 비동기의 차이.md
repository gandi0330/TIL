# 동기와 비동기의 차이


### 동기 (Synchronous)

- 한 자원에 대해 동시에 접근하는 것을 제한하는 방식이다.
- System Call이 끝날때 까지 다른 스레드의 접근을 막는다.
- 메서드를 실행시킨 후 반환될 때까지 기다린다.
- 동시에 일을 하지 못한다는 단점이 있다.

<br>
<br>

### 비동기화 (Asynchronous)

- Call Back함수를 통해 결과를 가져온다
- System Call에  상관없이 계속 호출할 수 있다.
- 메서드를 실행시킨 후 바로 다음 코드를 실행한다.
- 동시에 일을 할 수 있어서 자원을 효율적으로 사용할 수 있다.

<br>
<br>

ex1) 은행 입금

- 계좌에 1000원이 들어있고 입금 요청 A와 입금 요청 B를 처리해야할 때
- 동기적으로 할 경우
    - 먼저 들어온 요청을 받는다. (A : 500원 입금)
    - 해당 요청을 처리하고 반환한다. (결과 : 1000 + 500 = 1500원)
    - 이전 요청의 작업이 끝난 뒤 다음 요청을 받는다.(B : 1000원 입금)
    - 해당 요청을 처리하고 반환한다. (결과 : 1500 + 1000 = 2500원)
- 비동기적으로 할 경우
    - 먼저 들어온 요청을 받는다 ( A: 500원 입금 )
    - 해당 요청을 받기만 하고 다음 요청을 받는다. (B : 1000원 입금)
    - 이전 요청이 끝나는 것과 상관없이 다음 요청을 받으므로 A 요청 작업이 끝나지 않고 B 요청을 처리하는 경우 다음과 같은 결과가 발생할 수 있다.
        - A : 500원 입금 요청, 잔액 1000원
        - B : 1000원 입금 요청, 잔액 1000원
        - A : 잔액에 500원 더하기, 잔액 1500원
        - B : 잔액에 1000원 더하기, 잔액 2000원
        - A : 잔액 반환 (1500원)
        - B : 잔액 반환 (2000원)
        

<br>
<br>

ex2) 카페 음료 주문

- 커피를 주문하는데 5초가 걸리고 커피를 만들어 제공하는데 10초가 걸린다고 가정하자
- 동기적으로 할 경우
    - 손님1이 커피를 주문한다. (5초)
    - 손님1의 커피를 만들어 제공한다(15초)
    - 손님2의 커피를 주문한다. (20초)
    - 손님2의 커피를 만들어 제공한다(30초)
- 비동기적으로 할 경우
    - 손님1의 커피를 주문한다. (5초)
    - 손님2의 커피를 주문함과 동시에 손님 1의 커피를 만드는 중. (10초)
    - 손님1의 커피를 만들어 제공함과 동시에 손님 2의 커피를 만드는 중. (15초)
    - 손님2의 커피를 만들어 제공한다. (20초)
